{"remainingRequest":"E:\\WebStormProject\\blog-vue-typescript\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\WebStormProject\\blog-vue-typescript\\src\\views\\archive.vue?vue&type=script&lang=ts&","dependencies":[{"path":"E:\\WebStormProject\\blog-vue-typescript\\src\\views\\archive.vue","mtime":1573560179725},{"path":"E:\\WebStormProject\\blog-vue-typescript\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\WebStormProject\\blog-vue-typescript\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\WebStormProject\\blog-vue-typescript\\node_modules\\ts-loader\\index.js","mtime":1545640398000},{"path":"E:\\WebStormProject\\blog-vue-typescript\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\WebStormProject\\blog-vue-typescript\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport { Component, Prop, Vue } from \"vue-property-decorator\";\r\nimport { timestampToTime } from \"@/utils/utils\";\r\nimport { ParamsArchive, ArchiveData } from \"@/types/index\";\r\n\r\n@Component({\r\n  components: {}\r\n})\r\nexport default class Archive extends Vue {\r\n  private isLoadEnd: boolean = false;\r\n  private isLoading: boolean = false;\r\n  private articlesList: Array<object> = [];\r\n  private total: number = 0;\r\n  private params: ParamsArchive = {\r\n    keyword: \"\",\r\n    likes: \"\", // 是否是热门文章\r\n    state: 1, // 文章发布状态 => 0 草稿，1 已发布,'' 代表所有文章\r\n    article: 1,\r\n    tag_id: \"\",\r\n    category_id: \"\",\r\n    pageNum: 1,\r\n    pageSize: 10\r\n  };\r\n\r\n  mounted(): void {\r\n    this.handleSearch();\r\n  }\r\n\r\n  private async handleSearch(): Promise<void> {\r\n    this.isLoading = true;\r\n    const data: ArchiveData = await this.$https.get(/*this.$urls.getArticleList*/'/articleList1.json', {\r\n      params: this.params\r\n    });\r\n    this.isLoading = false;\r\n    this.articlesList = [...this.articlesList, ...data.list];\r\n    this.total = data.count;\r\n    this.params.pageNum++;\r\n    if (this.total === this.articlesList.length) {\r\n      this.isLoadEnd = true;\r\n    }\r\n  }\r\n}\r\n",{"version":3,"sources":["archive.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAyBA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"archive.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <div class=\"archive left\">\r\n    <el-timeline>\r\n      <el-timeline-item v-for=\"(l, i) in articlesList\"\r\n                        :key=\"l.year\"\r\n                        placement=\"top\"\r\n                        hide-timestamp>\r\n        <h3 class=\"year\">{{l.year}}</h3>\r\n\r\n        <el-timeline-item v-for=\"(item, index) in l.list\"\r\n                          :key=\"item._id\"\r\n                          :color=\"item.state === 1 ? 'green' : item.state === 3 ? 'red' : ''\"\r\n                          placement=\"top\"\r\n                          hide-timestamp>\r\n          <router-link :to=\"`/articleDetail?article_id=${item._id}`\"\r\n                       target=\"_blank\">\r\n            <h3 class=\"title\">{{item.title}}</h3>\r\n          </router-link>\r\n          <p>{{formatTime(item.create_time)}}</p>\r\n        </el-timeline-item>\r\n      </el-timeline-item>\r\n    </el-timeline>\r\n  </div>\r\n</template>\r\n<script lang=\"ts\">\r\nimport { Component, Prop, Vue } from \"vue-property-decorator\";\r\nimport { timestampToTime } from \"@/utils/utils\";\r\nimport { ParamsArchive, ArchiveData } from \"@/types/index\";\r\n\r\n@Component({\r\n  components: {}\r\n})\r\nexport default class Archive extends Vue {\r\n  private isLoadEnd: boolean = false;\r\n  private isLoading: boolean = false;\r\n  private articlesList: Array<object> = [];\r\n  private total: number = 0;\r\n  private params: ParamsArchive = {\r\n    keyword: \"\",\r\n    likes: \"\", // 是否是热门文章\r\n    state: 1, // 文章发布状态 => 0 草稿，1 已发布,'' 代表所有文章\r\n    article: 1,\r\n    tag_id: \"\",\r\n    category_id: \"\",\r\n    pageNum: 1,\r\n    pageSize: 10\r\n  };\r\n\r\n  mounted(): void {\r\n    this.handleSearch();\r\n  }\r\n\r\n  private async handleSearch(): Promise<void> {\r\n    this.isLoading = true;\r\n    const data: ArchiveData = await this.$https.get(/*this.$urls.getArticleList*/'/articleList1.json', {\r\n      params: this.params\r\n    });\r\n    this.isLoading = false;\r\n    this.articlesList = [...this.articlesList, ...data.list];\r\n    this.total = data.count;\r\n    this.params.pageNum++;\r\n    if (this.total === this.articlesList.length) {\r\n      this.isLoadEnd = true;\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"less\" scoped>\r\n.archive {\r\n  padding: 40px 0;\r\n  .year {\r\n    font-size: 30px;\r\n    font-weight: bold;\r\n    color: #000;\r\n    margin-top: 0;\r\n  }\r\n  a {\r\n    text-decoration: none;\r\n  }\r\n\r\n  .title {\r\n    color: #333;\r\n    &:hover {\r\n      color: #1890ff;\r\n    }\r\n  }\r\n}\r\n</style>\r\n\r\n"]}]}