{"remainingRequest":"E:\\WebStormProject\\blog-vue-typescript\\node_modules\\thread-loader\\dist\\cjs.js!E:\\WebStormProject\\blog-vue-typescript\\node_modules\\babel-loader\\lib\\index.js!E:\\WebStormProject\\blog-vue-typescript\\node_modules\\ts-loader\\index.js??ref--13-3!E:\\WebStormProject\\blog-vue-typescript\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\WebStormProject\\blog-vue-typescript\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\WebStormProject\\blog-vue-typescript\\src\\views\\home2.vue?vue&type=script&lang=ts&","dependencies":[{"path":"E:\\WebStormProject\\blog-vue-typescript\\src\\views\\home2.vue","mtime":1573287108449},{"path":"E:\\WebStormProject\\blog-vue-typescript\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\WebStormProject\\blog-vue-typescript\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\WebStormProject\\blog-vue-typescript\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\WebStormProject\\blog-vue-typescript\\node_modules\\ts-loader\\index.js","mtime":1545640398000},{"path":"E:\\WebStormProject\\blog-vue-typescript\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\WebStormProject\\blog-vue-typescript\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.typed.float32-array\";\nimport _classCallCheck from \"E:\\\\WebStormProject\\\\blog-vue-typescript\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"E:\\\\WebStormProject\\\\blog-vue-typescript\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"E:\\\\WebStormProject\\\\blog-vue-typescript\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"E:\\\\WebStormProject\\\\blog-vue-typescript\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _inherits from \"E:\\\\WebStormProject\\\\blog-vue-typescript\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/inherits\";\n// 这是波浪效果，要先在 public index.html 里面引用了 three.min.js 才能用\nimport * as tslib_1 from \"tslib\";\nimport { Component, Vue } from \"vue-property-decorator\";\n\nvar Home =\n/*#__PURE__*/\nfunction (_Vue) {\n  _inherits(Home, _Vue);\n\n  function Home() {\n    _classCallCheck(this, Home);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(Home).apply(this, arguments));\n  }\n\n  _createClass(Home, [{\n    key: \"mounted\",\n    value: function mounted() {\n      var SEPARATION = 100,\n          AMOUNTX = 50,\n          AMOUNTY = 50;\n      var container;\n      var camera, scene, renderer;\n      var particles,\n          count = 0;\n      var mouseX = 0,\n          mouseY = 0;\n      var windowHalfX = window.innerWidth / 2;\n      var windowHalfY = window.innerHeight / 2;\n      setTimeout(function () {\n        init();\n        animate();\n      }, 10);\n\n      function init() {\n        container = document.getElementById(\"wave\");\n        container.style.position = \"fixed\";\n        container.style.top = \"0\";\n        container.style.left = \"0\";\n        container.style.zIndex = \"-1\";\n        container.style.opacity = \"1\"; // document.body.appendChild(container);\n\n        camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 1, 10000);\n        camera.position.z = 1000;\n        scene = new THREE.Scene();\n        var numParticles = AMOUNTX * AMOUNTY;\n        var positions = new Float32Array(numParticles * 3);\n        var scales = new Float32Array(numParticles);\n        var i = 0,\n            j = 0;\n\n        for (var ix = 0; ix < AMOUNTX; ix++) {\n          for (var iy = 0; iy < AMOUNTY; iy++) {\n            positions[i] = ix * SEPARATION - AMOUNTX * SEPARATION / 2; // x\n\n            positions[i + 1] = 0; // y\n\n            positions[i + 2] = iy * SEPARATION - AMOUNTY * SEPARATION / 2; // z\n\n            scales[j] = 1;\n            i += 3;\n            j++;\n          }\n        }\n\n        var geometry = new THREE.BufferGeometry();\n        geometry.addAttribute(\"position\", new THREE.BufferAttribute(positions, 3));\n        geometry.addAttribute(\"scale\", new THREE.BufferAttribute(scales, 1));\n        var material = new THREE.ShaderMaterial({\n          uniforms: {\n            color: {\n              value: new THREE.Color(0x1890ff)\n            }\n          },\n          vertexShader: \"attribute float scale;void main() {vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );gl_PointSize = scale * ( 300.0 / - mvPosition.z );gl_Position = projectionMatrix * mvPosition;}\",\n          fragmentShader: \"uniform vec3 color;void main() {if ( length( gl_PointCoord - vec2( 0.5, 0.5 ) ) > 0.475 ) discard;gl_FragColor = vec4( color, 1.0 );}\"\n        });\n        particles = new THREE.Points(geometry, material);\n        scene.add(particles);\n        renderer = new THREE.WebGLRenderer({\n          antialias: true\n        });\n        renderer.setClearColor(0xffffff, 1.0);\n        renderer.setPixelRatio(window.devicePixelRatio);\n        renderer.setSize(window.innerWidth, window.innerHeight);\n        container.appendChild(renderer.domElement);\n        document.addEventListener(\"mousemove\", onDocumentMouseMove, false);\n        document.addEventListener(\"touchstart\", onDocumentTouchStart, false);\n        document.addEventListener(\"touchmove\", onDocumentTouchMove, false);\n        window.addEventListener(\"resize\", onWindowResize, false);\n      }\n\n      function onWindowResize() {\n        windowHalfX = window.innerWidth / 2;\n        windowHalfY = window.innerHeight / 2;\n        camera.aspect = window.innerWidth / window.innerHeight;\n        camera.updateProjectionMatrix();\n        renderer.setSize(window.innerWidth, window.innerHeight);\n      }\n\n      function onDocumentMouseMove(event) {\n        mouseX = event.clientX - windowHalfX;\n        mouseY = event.clientY - windowHalfY;\n      }\n\n      function onDocumentTouchStart(event) {\n        if (event.touches.length === 1) {\n          event.preventDefault();\n          mouseX = event.touches[0].pageX - windowHalfX;\n          mouseY = event.touches[0].pageY - windowHalfY;\n        }\n      }\n\n      function onDocumentTouchMove(event) {\n        if (event.touches.length === 1) {\n          event.preventDefault();\n          mouseX = event.touches[0].pageX - windowHalfX;\n          mouseY = event.touches[0].pageY - windowHalfY;\n        }\n      }\n\n      function animate() {\n        requestAnimationFrame(animate);\n        render();\n      }\n\n      function render() {\n        camera.position.x += (mouseX - camera.position.x) * 0.05;\n        camera.position.y += (-mouseY - camera.position.y) * 0.05;\n        camera.lookAt(scene.position);\n        var positions = particles.geometry.attributes.position.array;\n        var scales = particles.geometry.attributes.scale.array;\n        var i = 0,\n            j = 0;\n\n        for (var ix = 0; ix < AMOUNTX; ix++) {\n          for (var iy = 0; iy < AMOUNTY; iy++) {\n            positions[i + 1] = Math.sin((ix + count) * 0.3) * 50 + Math.sin((iy + count) * 0.5) * 50;\n            scales[j] = (Math.sin((ix + count) * 0.3) + 1) * 8 + (Math.sin((iy + count) * 0.5) + 1) * 8;\n            i += 3;\n            j++;\n          }\n        }\n\n        particles.geometry.attributes.position.needsUpdate = true;\n        particles.geometry.attributes.scale.needsUpdate = true;\n        renderer.render(scene, camera);\n        count += 0.1;\n      }\n    }\n  }]);\n\n  return Home;\n}(Vue);\n\nHome = tslib_1.__decorate([Component({})], Home);\nexport default Home;",null]}