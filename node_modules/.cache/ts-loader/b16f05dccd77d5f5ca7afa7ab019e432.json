{"remainingRequest":"E:\\WebStormProject\\blog-vue-typescript\\node_modules\\babel-loader\\lib\\index.js!E:\\WebStormProject\\blog-vue-typescript\\node_modules\\ts-loader\\index.js??ref--13-2!E:\\WebStormProject\\blog-vue-typescript\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\WebStormProject\\blog-vue-typescript\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\WebStormProject\\blog-vue-typescript\\src\\views\\home2.vue?vue&type=script&lang=ts&","dependencies":[{"path":"E:\\WebStormProject\\blog-vue-typescript\\src\\views\\home2.vue","mtime":1573287108449},{"path":"E:\\WebStormProject\\blog-vue-typescript\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\WebStormProject\\blog-vue-typescript\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\WebStormProject\\blog-vue-typescript\\node_modules\\ts-loader\\index.js","mtime":1545640398000},{"path":"E:\\WebStormProject\\blog-vue-typescript\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\WebStormProject\\blog-vue-typescript\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.typed.float32-array\";\nimport _classCallCheck from \"E:\\\\WebStormProject\\\\blog-vue-typescript\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"E:\\\\WebStormProject\\\\blog-vue-typescript\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"E:\\\\WebStormProject\\\\blog-vue-typescript\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"E:\\\\WebStormProject\\\\blog-vue-typescript\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _inherits from \"E:\\\\WebStormProject\\\\blog-vue-typescript\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/inherits\";\n// 这是波浪效果，要先在 public index.html 里面引用了 three.min.js 才能用\nimport * as tslib_1 from \"tslib\";\nimport { Component, Vue } from \"vue-property-decorator\";\n\nvar Home =\n/*#__PURE__*/\nfunction (_Vue) {\n  _inherits(Home, _Vue);\n\n  function Home() {\n    _classCallCheck(this, Home);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(Home).apply(this, arguments));\n  }\n\n  _createClass(Home, [{\n    key: \"mounted\",\n    value: function mounted() {\n      var SEPARATION = 100,\n          AMOUNTX = 50,\n          AMOUNTY = 50;\n      var container;\n      var camera, scene, renderer;\n      var particles,\n          count = 0;\n      var mouseX = 0,\n          mouseY = 0;\n      var windowHalfX = window.innerWidth / 2;\n      var windowHalfY = window.innerHeight / 2;\n      setTimeout(function () {\n        init();\n        animate();\n      }, 10);\n\n      function init() {\n        container = document.getElementById(\"wave\");\n        container.style.position = \"fixed\";\n        container.style.top = \"0\";\n        container.style.left = \"0\";\n        container.style.zIndex = \"-1\";\n        container.style.opacity = \"1\"; // document.body.appendChild(container);\n\n        camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 1, 10000);\n        camera.position.z = 1000;\n        scene = new THREE.Scene();\n        var numParticles = AMOUNTX * AMOUNTY;\n        var positions = new Float32Array(numParticles * 3);\n        var scales = new Float32Array(numParticles);\n        var i = 0,\n            j = 0;\n\n        for (var ix = 0; ix < AMOUNTX; ix++) {\n          for (var iy = 0; iy < AMOUNTY; iy++) {\n            positions[i] = ix * SEPARATION - AMOUNTX * SEPARATION / 2; // x\n\n            positions[i + 1] = 0; // y\n\n            positions[i + 2] = iy * SEPARATION - AMOUNTY * SEPARATION / 2; // z\n\n            scales[j] = 1;\n            i += 3;\n            j++;\n          }\n        }\n\n        var geometry = new THREE.BufferGeometry();\n        geometry.addAttribute(\"position\", new THREE.BufferAttribute(positions, 3));\n        geometry.addAttribute(\"scale\", new THREE.BufferAttribute(scales, 1));\n        var material = new THREE.ShaderMaterial({\n          uniforms: {\n            color: {\n              value: new THREE.Color(0x1890ff)\n            }\n          },\n          vertexShader: \"attribute float scale;void main() {vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );gl_PointSize = scale * ( 300.0 / - mvPosition.z );gl_Position = projectionMatrix * mvPosition;}\",\n          fragmentShader: \"uniform vec3 color;void main() {if ( length( gl_PointCoord - vec2( 0.5, 0.5 ) ) > 0.475 ) discard;gl_FragColor = vec4( color, 1.0 );}\"\n        });\n        particles = new THREE.Points(geometry, material);\n        scene.add(particles);\n        renderer = new THREE.WebGLRenderer({\n          antialias: true\n        });\n        renderer.setClearColor(0xffffff, 1.0);\n        renderer.setPixelRatio(window.devicePixelRatio);\n        renderer.setSize(window.innerWidth, window.innerHeight);\n        container.appendChild(renderer.domElement);\n        document.addEventListener(\"mousemove\", onDocumentMouseMove, false);\n        document.addEventListener(\"touchstart\", onDocumentTouchStart, false);\n        document.addEventListener(\"touchmove\", onDocumentTouchMove, false);\n        window.addEventListener(\"resize\", onWindowResize, false);\n      }\n\n      function onWindowResize() {\n        windowHalfX = window.innerWidth / 2;\n        windowHalfY = window.innerHeight / 2;\n        camera.aspect = window.innerWidth / window.innerHeight;\n        camera.updateProjectionMatrix();\n        renderer.setSize(window.innerWidth, window.innerHeight);\n      }\n\n      function onDocumentMouseMove(event) {\n        mouseX = event.clientX - windowHalfX;\n        mouseY = event.clientY - windowHalfY;\n      }\n\n      function onDocumentTouchStart(event) {\n        if (event.touches.length === 1) {\n          event.preventDefault();\n          mouseX = event.touches[0].pageX - windowHalfX;\n          mouseY = event.touches[0].pageY - windowHalfY;\n        }\n      }\n\n      function onDocumentTouchMove(event) {\n        if (event.touches.length === 1) {\n          event.preventDefault();\n          mouseX = event.touches[0].pageX - windowHalfX;\n          mouseY = event.touches[0].pageY - windowHalfY;\n        }\n      }\n\n      function animate() {\n        requestAnimationFrame(animate);\n        render();\n      }\n\n      function render() {\n        camera.position.x += (mouseX - camera.position.x) * 0.05;\n        camera.position.y += (-mouseY - camera.position.y) * 0.05;\n        camera.lookAt(scene.position);\n        var positions = particles.geometry.attributes.position.array;\n        var scales = particles.geometry.attributes.scale.array;\n        var i = 0,\n            j = 0;\n\n        for (var ix = 0; ix < AMOUNTX; ix++) {\n          for (var iy = 0; iy < AMOUNTY; iy++) {\n            positions[i + 1] = Math.sin((ix + count) * 0.3) * 50 + Math.sin((iy + count) * 0.5) * 50;\n            scales[j] = (Math.sin((ix + count) * 0.3) + 1) * 8 + (Math.sin((iy + count) * 0.5) + 1) * 8;\n            i += 3;\n            j++;\n          }\n        }\n\n        particles.geometry.attributes.position.needsUpdate = true;\n        particles.geometry.attributes.scale.needsUpdate = true;\n        renderer.render(scene, camera);\n        count += 0.1;\n      }\n    }\n  }]);\n\n  return Home;\n}(Vue);\n\nHome = tslib_1.__decorate([Component({})], Home);\nexport default Home;",{"version":3,"sources":["E:\\WebStormProject\\blog-vue-typescript\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\WebStormProject\\blog-vue-typescript\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\WebStormProject\\blog-vue-typescript\\src\\views\\home2.vue?vue&type=script&lang=ts&"],"names":[],"mappings":"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","sourcesContent":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\n// 这是波浪效果，要先在 public index.html 里面引用了 three.min.js 才能用\r\n\r\nimport { Component, Vue } from \"vue-property-decorator\";\r\n\r\n@Component({})\r\nexport default class Home extends Vue {\r\n  mounted() {\r\n    var SEPARATION: number = 100,\r\n      AMOUNTX: number = 50,\r\n      AMOUNTY: number = 50;\r\n\r\n    var container: any;\r\n    var camera: any, scene: any, renderer: any;\r\n\r\n    var particles: any,\r\n      count: number = 0;\r\n\r\n    var mouseX: number = 0,\r\n      mouseY: number = 0;\r\n\r\n    var windowHalfX: any = window.innerWidth / 2;\r\n    var windowHalfY: any = window.innerHeight / 2;\r\n\r\n    setTimeout(() => {\r\n      init();\r\n      animate();\r\n    }, 10);\r\n\r\n    function init() {\r\n      container = document.getElementById(\"wave\");\r\n      container.style.position = \"fixed\";\r\n      container.style.top = \"0\";\r\n      container.style.left = \"0\";\r\n      container.style.zIndex = \"-1\";\r\n      container.style.opacity = \"1\";\r\n      // document.body.appendChild(container);\r\n\r\n      camera = new THREE.PerspectiveCamera(\r\n        75,\r\n        window.innerWidth / window.innerHeight,\r\n        1,\r\n        10000\r\n      );\r\n      camera.position.z = 1000;\r\n\r\n      scene = new THREE.Scene();\r\n\r\n      var numParticles: any = AMOUNTX * AMOUNTY;\r\n\r\n      var positions: any = new Float32Array(numParticles * 3);\r\n      var scales: any = new Float32Array(numParticles);\r\n\r\n      var i: any = 0,\r\n        j: any = 0;\r\n\r\n      for (var ix = 0; ix < AMOUNTX; ix++) {\r\n        for (var iy = 0; iy < AMOUNTY; iy++) {\r\n          positions[i] = ix * SEPARATION - (AMOUNTX * SEPARATION) / 2; // x\r\n          positions[i + 1] = 0; // y\r\n          positions[i + 2] = iy * SEPARATION - (AMOUNTY * SEPARATION) / 2; // z\r\n\r\n          scales[j] = 1;\r\n\r\n          i += 3;\r\n          j++;\r\n        }\r\n      }\r\n\r\n      var geometry: any = new THREE.BufferGeometry();\r\n      geometry.addAttribute(\r\n        \"position\",\r\n        new THREE.BufferAttribute(positions, 3)\r\n      );\r\n      geometry.addAttribute(\"scale\", new THREE.BufferAttribute(scales, 1));\r\n\r\n      var material: any = new THREE.ShaderMaterial({\r\n        uniforms: {\r\n          color: { value: new THREE.Color(0x1890ff) }\r\n        },\r\n        vertexShader:\r\n          \"attribute float scale;void main() {vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );gl_PointSize = scale * ( 300.0 / - mvPosition.z );gl_Position = projectionMatrix * mvPosition;}\",\r\n        fragmentShader:\r\n          \"uniform vec3 color;void main() {if ( length( gl_PointCoord - vec2( 0.5, 0.5 ) ) > 0.475 ) discard;gl_FragColor = vec4( color, 1.0 );}\"\r\n      });\r\n\r\n      particles = new THREE.Points(geometry, material);\r\n      scene.add(particles);\r\n\r\n      renderer = new THREE.WebGLRenderer({ antialias: true });\r\n      renderer.setClearColor(0xffffff, 1.0);\r\n      renderer.setPixelRatio(window.devicePixelRatio);\r\n      renderer.setSize(window.innerWidth, window.innerHeight);\r\n      container.appendChild(renderer.domElement);\r\n\r\n      document.addEventListener(\"mousemove\", onDocumentMouseMove, false);\r\n      document.addEventListener(\"touchstart\", onDocumentTouchStart, false);\r\n      document.addEventListener(\"touchmove\", onDocumentTouchMove, false);\r\n\r\n      window.addEventListener(\"resize\", onWindowResize, false);\r\n    }\r\n\r\n    function onWindowResize() {\r\n      windowHalfX = window.innerWidth / 2;\r\n      windowHalfY = window.innerHeight / 2;\r\n\r\n      camera.aspect = window.innerWidth / window.innerHeight;\r\n      camera.updateProjectionMatrix();\r\n\r\n      renderer.setSize(window.innerWidth, window.innerHeight);\r\n    }\r\n\r\n    function onDocumentMouseMove(event: any) {\r\n      mouseX = event.clientX - windowHalfX;\r\n      mouseY = event.clientY - windowHalfY;\r\n    }\r\n\r\n    function onDocumentTouchStart(event: any) {\r\n      if (event.touches.length === 1) {\r\n        event.preventDefault();\r\n\r\n        mouseX = event.touches[0].pageX - windowHalfX;\r\n        mouseY = event.touches[0].pageY - windowHalfY;\r\n      }\r\n    }\r\n\r\n    function onDocumentTouchMove(event: any) {\r\n      if (event.touches.length === 1) {\r\n        event.preventDefault();\r\n\r\n        mouseX = event.touches[0].pageX - windowHalfX;\r\n        mouseY = event.touches[0].pageY - windowHalfY;\r\n      }\r\n    }\r\n\r\n    function animate() {\r\n      requestAnimationFrame(animate);\r\n\r\n      render();\r\n    }\r\n\r\n    function render() {\r\n      camera.position.x += (mouseX - camera.position.x) * 0.05;\r\n      camera.position.y += (-mouseY - camera.position.y) * 0.05;\r\n      camera.lookAt(scene.position);\r\n\r\n      var positions = particles.geometry.attributes.position.array;\r\n      var scales = particles.geometry.attributes.scale.array;\r\n\r\n      var i = 0,\r\n        j = 0;\r\n\r\n      for (var ix = 0; ix < AMOUNTX; ix++) {\r\n        for (var iy = 0; iy < AMOUNTY; iy++) {\r\n          positions[i + 1] =\r\n            Math.sin((ix + count) * 0.3) * 50 +\r\n            Math.sin((iy + count) * 0.5) * 50;\r\n\r\n          scales[j] =\r\n            (Math.sin((ix + count) * 0.3) + 1) * 8 +\r\n            (Math.sin((iy + count) * 0.5) + 1) * 8;\r\n\r\n          i += 3;\r\n          j++;\r\n        }\r\n      }\r\n\r\n      particles.geometry.attributes.position.needsUpdate = true;\r\n      particles.geometry.attributes.scale.needsUpdate = true;\r\n\r\n      renderer.render(scene, camera);\r\n\r\n      count += 0.1;\r\n    }\r\n  }\r\n}\r\n"],"sourceRoot":""}]}